#!/bin/bash

ts=`date +%F-%R`
demoFolder="demo"
files=( ${demoFolder}"/AssociativeList.scala" ${demoFolder}/"InsertionSort.scala" ${demoFolder}"/RedBlackTree.scala" ${demoFolder}"/PropositionalLogic.scala" "${demoFolder}/ListWithSize.scala")
#files=( ${pldi}"/RedBlackTree.scala" )
if [ "$#" -lt "1" ]
then
  echo "Please provide an unrolling value"
  exit 1
fi

rm -rf summary

for f in ${files[@]}
do
  ./funcheck CAV $f
done

mv summary summary-CAV-${ts}

for f in ${files[@]}
do
  ./funcheck CAV prune $f
done

mv summary summary-CAV-prune-${ts}

for f in ${files[@]}
do
  ./funcheck PLDI unrolling=${1} $f
done

mv summary summary-PLDI-${ts}
